/*
Deployment script for Database1

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "Database1"
:setvar DefaultFilePrefix "Database1"
:setvar DefaultDataPath "C:\Users\Ruslan\AppData\Local\Microsoft\Microsoft SQL Server Local DB\Instances\MSSQLLocalDB"
:setvar DefaultLogPath "C:\Users\Ruslan\AppData\Local\Microsoft\Microsoft SQL Server Local DB\Instances\MSSQLLocalDB"

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
USE [$(DatabaseName)];


GO
PRINT N'Altering [dbo].[BookingUpdate]...';


GO
ALTER PROCEDURE [dbo].[BookingUpdate]
	@Client_FK int,
	@ReservationDate datetime,
	@DateAarrival datetime,
	@DateDeparture datetime,
	@Payment_FK int,
	@id int
AS
update [dbo].[Booking]
set
[Client_FK] = @Client_FK,
[ReservationDate] = @ReservationDate,
[DateAarrival] = @DateAarrival,
[DateDeparture] = @DateDeparture,
[Payment_FK] = @Payment_FK
where [id] = @id;
GO
PRINT N'Altering [dbo].[RoomConditionInsert]...';


GO
ALTER PROCEDURE [dbo].[RoomConditionInsert]
	@HotelNumber_FK int,
	@Booking_FK int
AS
insert into [dbo].[RoomСondition]
(HotelNumber_FK,
Booking_FK)
values 
(@Booking_FK,
@Booking_FK);
GO
PRINT N'Altering [dbo].[RoomConditionUpdate]...';


GO
ALTER PROCEDURE [dbo].[RoomConditionUpdate]
	@HotelNumber_FK int,
	@Booking_FK int,
	@id int
AS
update [dbo].RoomСondition
set
[HotelNumber_FK] = @HotelNumber_FK,
[Booking_FK] = @Booking_FK
where id = @id;
GO
PRINT N'Update complete.';


GO
